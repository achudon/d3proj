<!DOCTYPE html>

<head></head>

<style>
    rect {
        fill: steelblue;
    }

    rect:hover {
        fill: orange;
    }

    .header>text {
        text-anchor: end;
    }

    .label>text {
        text-anchor: start;
    }

    body {
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 12px;
        color: #333;
      }
</style>

<body>
    <svg width='800'>
        <g transform= 'translate(70,30)'>
            <rect />
            <rect />
            <rect />
            <rect />
            <rect />
        </g>
        <g class='header' transform='translate(70,30)'>
            <text />
            <text />
            <text />
            <text />
            <text />
        </g>

        <g class='label' transform='translate(70,30)'>
            <text />
            <text />
            <text />
            <text />
            <text />
        </g>
    </svg>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>
    <script>

    var cities = [
        { name: 'London', population: 8674000},
        { name: 'New York', population: 8406000},
        { name: 'Sydney', population: 4293000},
        { name: 'Paris', population: 2244000},
        { name: 'Beijing', population: 11510000}
    ];

    // select all rectangles, size them according to the population
    // add text to the rectangles

    var scaleFactor = 0.00005;

    d3.selectAll('rect')
        .data(cities)
        .attr('width', function(d, i) {
            return d.population * scaleFactor
        })
        .attr('height', 17)
        .attr('y', function(d, i) {
            return i * 20
        });

    d3.selectAll('g.header>text')
        .data(cities)
        .text(function(d){
            return d.name
        })
        .attr('y', function(d, i) {
            return i * 20 + 13
        })
        .attr('x', -10);

    d3.selectAll('g.label>text')
        .data(cities)
        .text(function(d) {
           return d.populationgit s
        })
        .attr('y', function(d, i) {
            return i * 20 + 13
        })
        .attr('x', function(d, i) {
            return d.population * scaleFactor + 5
        });
    
    </script>

</body>